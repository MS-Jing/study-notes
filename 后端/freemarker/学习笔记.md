# 导入依赖

```xml
<dependency>
    <groupId>org.freemarker</groupId>
    <artifactId>freemarker</artifactId>
    <version>2.3.29</version>
</dependency>
```

# 第一个例子

在resources目录下创建templates/test.html.ftl

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    ${name}
</body>
</html>
```

```java
public class Main {
    public static void main(String[] args) throws IOException, TemplateException {
        //创建freemarker的配置类
        Configuration configuration = new Configuration(Configuration.getVersion());
        // 设置模板文件所在的路径  这里是资源目录下的templates目录
        configuration.setClassLoaderForTemplateLoading(Main.class.getClassLoader(), "/templates/");
        //设置模板文件使用的字符集。
        configuration.setEncoding(Locale.CHINA, "utf-8");
        //获取一个模板
        Template template = configuration.getTemplate("test.html.ftl");
        //输出的目标文件
        Writer out = new FileWriter("./test.html");
        //设置生成模板携带的参数
        HashMap<String, Object> map = new HashMap<>();
        map.put("name","Hello freemarker!");
        //执行生成
        template.process(map, out);
        out.close();
    }
}
```

最终在项目根目录下生成：

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1>Hello freemarker!</h1>
</body>
</html>
```

说明freemarker模板引擎生成了我们想要的文件

# 简单封装工具类

```java
public class FreemarkerUtils {
    private final static String PATH_RELEASE = "/templates/";
    private static Configuration configuration;

    static {
        getInstance();
    }

    public static synchronized Configuration getInstance() {
        if (null == configuration) {
            configuration = new Configuration(Configuration.getVersion());
            // 设置模板文件所在的路径
            configuration.setClassLoaderForTemplateLoading(FreemarkerUtils.class.getClassLoader(), PATH_RELEASE);
            //设置模板文件使用的字符集。一般就是utf-8.
            configuration.setEncoding(Locale.CHINA, "utf-8");
        }
        return configuration;
    }

    public static void process(String templateName, String targetFile, Object record) throws IOException, TemplateException {
        Template template = configuration.getTemplate(templateName);
        Writer out = new FileWriter(targetFile);
        template.process(record, out);
        out.close();
    }

}
```

```java
public class Main {
    public static void main(String[] args) throws IOException, TemplateException {
        HashMap<String, Object> map = new HashMap<>();
        map.put("name", "Hello freemarker!");
        FreemarkerUtils.process("test.html.ftl", "./test.html", map);
    }
}
```

